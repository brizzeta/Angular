<form *ngIf="myForm" [formGroup]="myForm" (ngSubmit)="onSubmit()">
  <div>
    <label>Name:</label>
    <input type="text" formControlName="name">
    <div *ngIf="myForm.get('name') && myForm.get('name').invalid && (myForm.get('name').dirty || myForm.get('name').touched)">
      <div *ngIf="myForm.get('name')?.errors?.required">Name is required.</div>
    </div>
  </div>
  <div>
    <label>Email:</label>
    <input type="email" formControlName="email">
    <div *ngIf="myForm.get('email') && myForm.get('email').invalid && (myForm.get('email').dirty || myForm.get('email').touched)">
      <div *ngIf="myForm.get('email')?.errors?.required">Email is required.</div>
      <div *ngIf="myForm.get('email')?.errors?.email">Please enter a valid email address.</div>
    </div>
  </div>
  <div>
    <label>Password:</label>
    <input type="password" formControlName="password">
    <div *ngIf="myForm.get('password') && myForm.get('password').invalid && (myForm.get('password').dirty || myForm.get('password').touched)">
      <div *ngIf="myForm.get('password')?.errors?.required">Password is required.</div>
      <div *ngIf="myForm.get('password')?.errors?.minlength">Password must be at least 6 characters long.</div>
    </div>
  </div>
  <div>
    <label>Confirm Password:</label>
    <input type="password" formControlName="confirmPassword">
    <div *ngIf="myForm.get('confirmPassword') && myForm.get('confirmPassword').invalid && (myForm.get('confirmPassword').dirty || myForm.get('confirmPassword').touched)">
      <div *ngIf="myForm.get('confirmPassword')?.errors?.required">Confirmation password is required.</div>
      <div *ngIf="myForm.hasError('notSame') && (myForm.get('confirmPassword')?.dirty || myForm.get('confirmPassword')?.touched)">Passwords do not match.</div>
    </div>
  </div>
  <button type="submit" [disabled]="myForm.invalid">Submit</button>
</form>
